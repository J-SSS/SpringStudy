<!DOCTYPE html>

<html>

<head>

  <style >

    .d1 {
      background-color: red;
      width:1000px;
      height:100px;
      border-right:1px solid #b8b8b8;
      margin-right:-1px;
      }

    .d2 { background-color: blue;
      width:1000px;
      height:100px;
      border-right:1px solid #b8b8b8;
      margin-right:-1px;
      }

    .d3 { background-color: black;
      width:1000px;
      height:50px;
      border-right:1px solid #b8b8b8;
      margin-right:-1px;
      }

    #hr {cursor:pointer;}

  </style>



</head>

<body onload="init()">

<div class="d1" id="d1">LEFT</div>

<div class="d3" id="hr">d</div>

<div class="d2" id="d2">RIGHT</div>


<script >

  var startpos, diffpos=0, range=50;
  var isEnable = false;
  const w = document.querySelector(".d1").clientHeight;
  console.log(w)

  function on_mouse_down(e) {
    // startpos = event.clientY + diffpos;
    startpos = event.clientY + diffpos;
    isEnable = true;

  }

  function on_mouse_up(e) {
    isEnable = false;

  }

  function on_mouse_move(e) {
    if (isEnable) {
      pos = event.clientY;

      diffpos = startpos-pos;

      var width = 100;
      if (diffpos > -(width-range) && diffpos < (width-range)) {
        document.getElementById("d1").style.height = width - diffpos + "px";
        // document.getElementById("d2").style.height = width - 20 + diffpos + "px";
      }
    }
  }



  function init() {
    document.getElementById("hr").onmousedown = on_mouse_down;
    document.onmouseup = on_mouse_up;
    document.onmousemove = on_mouse_move;

  }

</script>
</body>

</html>
